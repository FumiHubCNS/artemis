#==================================================
# include 
#==================================================  
# you can include other definition files
include:
  - include.yaml
# setting aliases in TTree
# it is recommended to define alias to the cut if you want to use combination of cut
#==================================================
# alias 
#==================================================  
alias:
  validpulse : "atpulse.IsValid()" # you can add comment after here
  truecharge: "atpulse.fCharge > 100"
  andgate: "validpulse && truecharge"
# number is not numerical? we need to add a operation to represent the number  (maybe bug of TTreeFormula)  
  id1: "25./1."
  id2: "35./1."
# you can also define the alias of variable
  chargeerror: "TMath::Sqrt(atpulse.fCharge)"
#==================================================
# definition of group
#==================================================  
group:
  - name: tpcbasic
    title: tpc basic
    contents:
      - name: id
        title: id
        x: ["atpulse.fID",100,0.,100.,"",validpulse]
      - name: id_clone
        title: id cloned
        clone: id
  - name: tpcbasic_clone
    title: cloned tpc basic
    clone: tpcbasic
    suffix: _clone
  - name: tpcbasic
    title: basic histogram
    contents:
      - name: id
        title: hit pattern
        x: ["atpulse.fID",400,-0.5,399.5]
      - name: charge
        title: charge
        x: ["atpulse.fCharge",400,-0.5,399.5]
      - name: charge_cut
        title: charge cut
        clone: charge
        cut: andgate
      - name: id_charge
        title: charge vs id
        x: ["atpulse.fID",400,-0.5,399.5]
        y: ["atpulse.fCharge",1000,0.,50000.]
      - name: id_offset
        title: offset vs id
        x: ["atpulse.fID",400,-0.5,399.5]
        y: ["atpulse.fOffset",100,-500.,500.]
      - name: id_charge_offset
        title: offset vs charge vs id
        x: ["atpulse.fID",400,-0.5,399.5]
        y: ["atpulse.fCharge",100,0.,5000.]
        z: ["atpulse.fOffset",100,-500.,500.]
      - name: charges
        title: charge vs charge
        async: 1
        x: ["atpulse.fCharge",500,0.,3000.,"","atpulse.fID == id1"]
        y: ["atpulse.fCharge",500,0.,3000.,"","atpulse.fID == id2"]
      - name: chargecharge
        title: charge vs charge
        x: ["atpulse[25].fCharge",500,0.,3000.,"","atpulse[25].IsValid()"]
        y: ["atpulse[35].fCharge",500,0.,3000.,"","atpulse[35].IsValid()"]
      - name: chargecharge2
        title: charge vs charge
        x: ["atpulse[25].fCharge+atpulse[24].fCharge",500,0.,3000.,"","atpulse[25].IsValid()"]
        y: ["atpulse[35].fCharge",500,0.,3000.,"","atpulse[35].IsValid()"]
      - name: chargecharge31
        title: charge vs charge
        x: ["atpulse[25].fCharge+atpulse[24].fCharge+atpulse[14].fCharge",500,0.,3000.,"","atpulse[25].IsValid()"]
        y: ["atpulse[35].fCharge",500,0.,3000.,"","atpulse[35].IsValid()"]
